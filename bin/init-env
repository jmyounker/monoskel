#!/bin/sh -x

install_darwin() {
	if (! which -s brew); then
		/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
	fi
	if (! which -s bazel); then
		brew install bazel
	fi
	if (! which -s lefthook); then
		brew install Arkweid/lefthook/lefthook
	fi
	if (! which -s docker); then
		brew cask install docker
	fi
	if [ ! -e '/Applications/IntelliJ IDEA CE.app' ]; then
		brew cask install intellij-idea-ce
	fi
}

if [ "$(uname)" == "Darwin" ]; then
	install_darwin
fi